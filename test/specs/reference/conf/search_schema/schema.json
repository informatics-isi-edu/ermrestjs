{
    "schema_name": "search_schema",
    "tables": {
        "search parser": {
            "comment": "",
            "kind": "table",
            "keys": [
                {
                    "comment": null,
                    "annotations": {},
                    "unique_columns": [
                        "id x"
                    ]
                }
            ],
            "entityCount": 0,
            "foreign_keys": [],
            "table_name": "search parser",
            "schema_name": "search_schema",
            "column_definitions": [
                {
                    "name": "id x",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "name x",
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "value x",
                    "type": {
                        "typename": "integer"
                    }
                },
                {
                    "name": "decimal x",
                    "type": {
                        "typename": "float4"
                    }
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2016:table-display": {
                    "*": {
                        "row_order": [
                            {
                                "column": "name x",
                                "descending": false
                            }
                        ]
                    }
                }
            }
        },
        "table_w_custom_search_invalid": {
            "kind": "table",
            "schema_name": "search_schema",
            "table_name": "table_w_custom_search_invalid",
            "keys": [
                {
                    "unique_columns": [
                        "id"
                    ]
                }
            ],
            "foreign_keys": [],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2019:source-definitions": {
                    "search-box": {
                        "or": [
                            {
                                "source": "invalid_col"
                            },
                            {
                                "source": "invalid_col_2"
                            },
                            {
                                "source": [
                                    {
                                        "inbound": [
                                            "schema",
                                            "some_invalid_const"
                                        ]
                                    },
                                    "RID"
                                ]
                            }
                        ]
                    }
                }
            }
        },
        "table_w_custom_search_not_same_instance": {
            "kind": "table",
            "schema_name": "search_schema",
            "table_name": "table_w_custom_search_not_same_instance",
            "keys": [
                {
                    "unique_columns": [
                        "id"
                    ]
                }
            ],
            "foreign_keys": [
                {
                    "names": [["search_schema","table_w_custom_search_not_same_instance_fk1"]],
                    "foreign_key_columns": [{
                        "schema_name": "search_schema",
                        "table_name": "table_w_custom_search_not_same_instance",
                        "column_name": "fk_to_vocab"
                    }],
                    "referenced_columns": [{
                        "schema_name": "search_schema",
                        "table_name": "search_vocab_table",
                        "column_name": "id"
                    }]
                }
            ],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "fk_to_vocab",
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2019:source-definitions": {
                    "search-box": {
                        "or": [
                            {
                                "source": [
                                    {"outbound": ["search_schema","table_w_custom_search_not_same_instance_fk1"]},
                                    "name"
                                ]
                            },
                            {
                                "source": "id"
                            }
                        ]
                    }
                }
            }
        },
        "table_w_custom_search_1": {
            "kind": "table",
            "schema_name": "search_schema",
            "table_name": "table_w_custom_search_1",
            "keys": [
                {
                    "unique_columns": [
                        "id"
                    ]
                }
            ],
            "foreign_keys": [],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "search_col_1",
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "search_col_2",
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "search_col_ignored",
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2019:source-definitions": {
                    "sources": {
                        "search-box": {
                            "or": [
                                {
                                    "source": "search_col_2",
                                    "markdown_name": "**some name**"
                                },
                                {
                                    "source": "search_col_1"
                                }
                            ]
                        }
                    }
                }
            }
        },
        "table_w_custom_search_2": {
            "kind": "table",
            "comment": "has just one search column that has path",
            "schema_name": "search_schema",
            "table_name": "table_w_custom_search_2",
            "keys": [
                {
                    "unique_columns": [
                        "id"
                    ]
                }
            ],
            "foreign_keys": [],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2019:source-definitions": {
                    "search-box": {
                        "or": [
                            {
                                "sourcekey": "path_to_vocab_name",
                                "markdown_name": "Vocab"
                            }
                        ]
                    },
                    "sources": {
                        "path_to_vocab_name": {
                            "source": [
                                {"inbound": ["search_schema","table_w_custom_search_2_vocab_assoc_fk1"]},
                                {"outbound": ["search_schema","table_w_custom_search_2_vocab_assoc_fk2"]},
                                "name"
                            ]
                        }
                    }
                }
            }
        },
        "table_w_custom_search_2_vocab_assoc": {
            "kind": "table",
            "comment": "has just one search column that has path",
            "schema_name": "search_schema",
            "table_name": "table_w_custom_search_2_vocab_assoc",
            "keys": [
                {
                    "unique_columns": [
                        "fk_to_custom_search_2",
                        "fk_to_vocab"
                    ]
                }
            ],
            "foreign_keys": [
                {
                    "names": [["search_schema","table_w_custom_search_2_vocab_assoc_fk1"]],
                    "foreign_key_columns": [{
                        "schema_name": "search_schema",
                        "table_name": "table_w_custom_search_2_vocab_assoc",
                        "column_name": "fk_to_custom_search_2"
                    }],
                    "referenced_columns": [{
                        "schema_name": "search_schema",
                        "table_name": "table_w_custom_search_2",
                        "column_name": "id"
                    }]
                },
                {
                    "names": [["search_schema","table_w_custom_search_2_vocab_assoc_fk2"]],
                    "foreign_key_columns": [{
                        "schema_name": "search_schema",
                        "table_name": "table_w_custom_search_2_vocab_assoc",
                        "column_name": "fk_to_vocab"
                    }],
                    "referenced_columns": [{
                        "schema_name": "search_schema",
                        "table_name": "search_vocab_table",
                        "column_name": "id"
                    }]
                }
            ],
            "column_definitions": [
                {
                    "name": "fk_to_custom_search_2",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "fk_to_vocab",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {}
        },
        "table_w_custom_search_3": {
            "kind": "table",
            "comment": "search columns are using the same path prefix",
            "schema_name": "search_schema",
            "table_name": "table_w_custom_search_3",
            "keys": [
                {
                    "unique_columns": [
                        "id"
                    ]
                }
            ],
            "foreign_keys": [],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2019:source-definitions": {
                    "sources": {
                        "path_to_vocab_name": {
                            "source": [
                                {"inbound": ["search_schema","table_w_custom_search_3_vocab_assoc_fk1"]},
                                {"outbound": ["search_schema","table_w_custom_search_3_vocab_assoc_fk2"]},
                                "name"
                            ]
                        },
                        "search-box": {
                            "or": [
                                {"sourcekey": "path_to_vocab_name"},
                                {"source": [{"sourcekey": "path_to_vocab_name"}, "second_name"]},
                                {"source": [{"sourcekey": "path_to_vocab_name"}, "third_name"], "markdown_name": "third name"}
                            ]
                        }
                    }
                }
            }
        },
        "table_w_custom_search_3_vocab_assoc": {
            "kind": "table",
            "comment": "has just one search column that has path",
            "schema_name": "search_schema",
            "table_name": "table_w_custom_search_3_vocab_assoc",
            "keys": [
                {
                    "unique_columns": [
                        "fk_to_custom_search_3",
                        "fk_to_vocab"
                    ]
                }
            ],
            "foreign_keys": [
                {
                    "names": [["search_schema","table_w_custom_search_3_vocab_assoc_fk1"]],
                    "foreign_key_columns": [{
                        "schema_name": "search_schema",
                        "table_name": "table_w_custom_search_3_vocab_assoc",
                        "column_name": "fk_to_custom_search_3"
                    }],
                    "referenced_columns": [{
                        "schema_name": "search_schema",
                        "table_name": "table_w_custom_search_3",
                        "column_name": "id"
                    }]
                },
                {
                    "names": [["search_schema","table_w_custom_search_3_vocab_assoc_fk2"]],
                    "foreign_key_columns": [{
                        "schema_name": "search_schema",
                        "table_name": "table_w_custom_search_3_vocab_assoc",
                        "column_name": "fk_to_vocab"
                    }],
                    "referenced_columns": [{
                        "schema_name": "search_schema",
                        "table_name": "search_vocab_table",
                        "column_name": "id"
                    }]
                }
            ],
            "column_definitions": [
                {
                    "name": "fk_to_custom_search_3",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "fk_to_vocab",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {}
        },
        "table_w_custom_search_4": {
            "kind": "table",
            "comment": "search columns are using the same path prefix, test the readPath",
            "schema_name": "search_schema",
            "table_name": "table_w_custom_search_4",
            "keys": [
                {
                    "unique_columns": [
                        "id"
                    ]
                }
            ],
            "foreign_keys": [
                {
                    "names": [["search_schema","table_w_custom_search_4_fk1"]],
                    "foreign_key_columns": [{
                        "schema_name": "search_schema",
                        "table_name": "table_w_custom_search_4",
                        "column_name": "fk_to_vocab"
                    }],
                    "referenced_columns": [{
                        "schema_name": "search_schema",
                        "table_name": "search_vocab_table",
                        "column_name": "id"
                    }]
                }
            ],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "fk_to_vocab",
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2016:visible-columns": {
                    "*": [
                        "id", {"sourcekey": "path_to_vocab_name"}
                    ]
                },
                "tag:isrd.isi.edu,2019:source-definitions": {
                    "search-box": {
                        "or": [
                            {"sourcekey": "path_to_vocab_name"},
                            {"source": [{"sourcekey": "path_to_vocab_name"}, "second_name"]}
                        ]
                    },
                    "sources": {
                        "path_to_vocab_name": {
                            "source": [
                                {"outbound": ["search_schema","table_w_custom_search_4_fk1"]},
                                "name"
                            ],
                            "entity": false
                        }
                    }
                }
            }
        },
        "search_vocab_table": {
            "kind": "table",
            "comment": "other tables search ends up here",
            "schema_name": "search_schema",
            "table_name": "search_vocab_table",
            "keys": [
                {
                    "unique_columns": [
                        "id"
                    ]
                }
            ],
            "foreign_keys": [],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "name",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "second_name",
                    "nullok": true,
                    "type": {"typename": "text"}
                },
                {
                    "name": "third_name",
                    "nullok": true,
                    "type": {"typename": "text"}
                }
            ],
            "annotations": {}
        }
    }
}